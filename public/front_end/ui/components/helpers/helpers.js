import*as e from"../../../core/root/root.js";import*as t from"../../legacy/theme_support/theme_support.js";import*as r from"../../lit-html/lit-html.js";import*as o from"../../../core/platform/platform.js";import*as n from"../render_coordinator/render_coordinator.js";const s=new Map;const a=["panels/application/serviceWorkerUpdateCycleView.css"];var c=Object.freeze({__proto__:null,legacyGetStyleSheets:function(t){const r=s.get(t);if(r)return r.sheets;const o=e.Runtime.cachedResources.get(t)||"";if(!o)throw new Error(`${t} not preloaded.`);const n=new CSSStyleSheet;return n.replaceSync(o),s.set(t,{sheets:[n]}),[n]},CSS_RESOURCES_TO_LOAD_INTO_RUNTIME:a});var i=Object.freeze({__proto__:null,setup:async function(r=""){const o={get:()=>"default"};t.ThemeSupport.instance({forceNew:!0,setting:o});const n=a.map((t=>fetch(r+"/front_end/"+t).then((e=>e.text())).then((r=>{e.Runtime.cachedResources.set(t,r)}))));await Promise.all(n)}});var l=Object.freeze({__proto__:null,defineComponent:function(e,t){customElements.get(e)?console.error(`${e} already defined!`):customElements.define(e,t)}});class d extends r.Directive.Directive{constructor(e){if(super(e),e.type!==r.Directive.PartType.ATTRIBUTE)throw new Error("Node rendered callback directive must be used as an attribute.")}update(e,[t]){t(e.element)}render(e){}}const u=r.Directive.directive(d);var p=Object.freeze({__proto__:null,nodeRenderedCallback:u});var _=Object.freeze({__proto__:null,getRootNode:function(e){const t=e.getRootNode();return t.nodeName,t}});const f=n.RenderCoordinator.RenderCoordinator.instance(),m=new WeakSet,h=new WeakSet,S=new WeakMap,v=new WeakMap;var y=Object.freeze({__proto__:null,scheduleRender:async function e(t,r){if(h.has(t))return void S.set(t,r);if(m.has(t))return;m.add(t);let o=v.get(r);if(o||(o=async()=>{m.delete(t),h.add(t),await r.call(t),h.delete(t)},v.set(r,o)),await f.write(o),S.has(t)){const r=S.get(t);if(S.delete(t),!r)return;e(t,r)}},isScheduledRender:function(e){return h.has(e)}});var R=Object.freeze({__proto__:null,set:function(e,t,r){e.style.setProperty(t,r)}});export{i as ComponentServerSetup,l as CustomElements,p as Directives,_ as GetRootNode,c as LegacyGetStylesheet,y as ScheduledRender,R as SetCSSProperty};
