import*as e from"../../core/common/common.js";import*as t from"../../core/i18n/i18n.js";import*as o from"../../ui/legacy/legacy.js";const a={whatsNew:"What's New",showWhatsNew:"Show What's New",releaseNotes:"Release notes",reportADevtoolsIssue:"Report a DevTools issue",reportTranslationIssue:"Report a translation issue",bug:"bug",showWhatsNewAfterEachUpdate:"Show What's New after each update",doNotShowWhatsNewAfterEachUpdate:"Do not show What's New after each update"},n=t.i18n.registerUIStrings("panels/help/help-meta.ts",a),i=t.i18n.getLazilyComputedLocalizedString.bind(void 0,n);let s;async function r(){return s||(s=await import("./help.js")),s}o.ViewManager.registerViewExtension({location:"drawer-view",id:"release-note",title:i(a.whatsNew),commandPrompt:i(a.showWhatsNew),persistence:"closeable",order:1,loadView:async()=>(await r()).ReleaseNoteView.ReleaseNoteView.instance()}),o.ActionRegistration.registerActionExtension({category:o.ActionRegistration.ActionCategory.HELP,actionId:"help.release-notes",title:i(a.releaseNotes),loadActionDelegate:async()=>(await r()).Help.ReleaseNotesActionDelegate.instance()}),o.ActionRegistration.registerActionExtension({category:o.ActionRegistration.ActionCategory.HELP,actionId:"help.report-issue",title:i(a.reportADevtoolsIssue),loadActionDelegate:async()=>(await r()).Help.ReportIssueActionDelegate.instance(),tags:[i(a.bug)]}),o.ActionRegistration.registerActionExtension({category:o.ActionRegistration.ActionCategory.HELP,actionId:"help.report-translation-issue",title:i(a.reportTranslationIssue),loadActionDelegate:async()=>(await r()).Help.ReportTranslationIssueActionDelegate.instance(),tags:[i(a.bug)]}),e.Settings.registerSettingExtension({category:e.Settings.SettingCategory.APPEARANCE,storageType:e.Settings.SettingStorageType.Synced,title:i(a.showWhatsNewAfterEachUpdate),settingName:"help.show-release-note",settingType:e.Settings.SettingType.BOOLEAN,defaultValue:!0,options:[{value:!0,title:i(a.showWhatsNewAfterEachUpdate)},{value:!1,title:i(a.doNotShowWhatsNewAfterEachUpdate)}]}),o.ContextMenu.registerItem({location:o.ContextMenu.ItemLocation.MAIN_MENU_HELP_DEFAULT,actionId:"help.release-notes",order:10}),o.ContextMenu.registerItem({location:o.ContextMenu.ItemLocation.MAIN_MENU_HELP_DEFAULT,actionId:"help.report-issue",order:11}),o.ContextMenu.registerItem({location:o.ContextMenu.ItemLocation.MAIN_MENU_HELP_DEFAULT,actionId:"help.report-translation-issue",order:12}),e.Runnable.registerLateInitializationRunnable({id:"whats-new",loadRunnable:async()=>(await r()).Help.HelpLateInitialization.instance()});
